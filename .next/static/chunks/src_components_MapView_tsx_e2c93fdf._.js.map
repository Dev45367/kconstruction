{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/kconstruction/src/components/MapView.tsx"],"sourcesContent":["\"use client\";\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\nimport { useEffect, useState } from 'react';\n\n// Custom icons for different statuses\nconst iconBlue = new L.Icon({\n  iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png',\n  shadowUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png',\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  shadowSize: [41, 41],\n});\nconst iconOrange = new L.Icon({\n  iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-orange.png',\n  shadowUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png',\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  shadowSize: [41, 41],\n});\nconst iconGreen = new L.Icon({\n  iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-green.png',\n  shadowUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png',\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  shadowSize: [41, 41],\n});\nconst iconRed = new L.Icon({\n  iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png',\n  shadowUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png',\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  shadowSize: [41, 41],\n});\n\nexport interface Project {\n  id: number;\n  name: string;\n  address: string;\n  lat: number;\n  lng: number;\n  status: 'Ongoing' | 'Planned' | 'Completed';\n  country: 'India' | 'US' | 'Canada';\n}\n\ninterface MapProps {\n  projects: Project[];\n  selectedProject: number | null;\n  onMarkerClick: (id: number) => void;\n}\n\nfunction MapFlyTo({ projects, selectedProject }: { projects: Project[]; selectedProject: number | null }) {\n  const map = useMap();\n  useEffect(() => {\n    if (selectedProject) {\n      const proj = projects.find(p => p.id === selectedProject);\n      if (proj) {\n        map.flyTo([proj.lat, proj.lng], 7, { duration: 1 });\n      }\n    }\n  }, [selectedProject, projects, map]);\n  return null;\n}\n\nconst MapView: React.FC<MapProps> = ({ projects, selectedProject, onMarkerClick }) => {\n  const [mounted, setMounted] = useState(false);\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n  if (!mounted) return null;\n  const position: [number, number] = [28.6139, 77.2090]; // Centered on Delhi by default\n\n  return (\n    <MapContainer center={position} zoom={3} style={{ height: '100%', width: '100%' }} className=\"rounded-lg\">\n      <TileLayer\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n      />\n      <MapFlyTo projects={projects} selectedProject={selectedProject} />\n      {projects.map(project => {\n        let icon = iconBlue;\n        if (selectedProject === project.id) {\n          icon = iconRed;\n        } else if (project.status === 'Planned') {\n          icon = iconOrange;\n        } else if (project.status === 'Completed') {\n          icon = iconGreen;\n        }\n        return (\n          <Marker \n            key={project.id} \n            position={[project.lat, project.lng]}\n            icon={icon}\n            eventHandlers={{\n              click: () => onMarkerClick(project.id),\n            }}\n          >\n            <Popup>\n              <b>{project.name}</b><br />\n              {project.address}\n            </Popup>\n          </Marker>\n        );\n      })}\n    </MapContainer>\n  );\n};\n\nexport default MapView; "],"names":[],"mappings":"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","debugId":null}}]
}